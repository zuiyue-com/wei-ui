/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-10 18:16:02
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[5751,6632],{92327:function(e,t,a){a.d(t,{E:function(){return i}});var l=a(27484),n=a.n(l),o=(a(33852),a(84110)),s=a.n(o);function i(e){return n().locale("zh-cn"),n()(e).fromNow()}n().extend(s())},17052:function(e,t,a){a.d(t,{D8:function(){return i},Gc:function(){return s},TD:function(){return l},Vj:function(){return n},eK:function(){return o}});a(57658);function l(e,t){if(0===arguments.length)return null;const a=t||"{y}-{m}-{d} {h}:{i}:{s}";let l;"object"===typeof e?l=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),l=new Date(e));const n={y:l.getFullYear(),m:l.getMonth()+1,d:l.getDate(),h:l.getHours(),i:l.getMinutes(),s:l.getSeconds(),a:l.getDay()};return a.replace(/{([ymdhisa])+}/g,((e,t)=>{let a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a=`0${a}`),a||0)}))}function n(e=32){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";let a="";for(let l=0;l<e;l++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}function o(e){const t=e.match(/src="(.+?)"/);return t?t[1]:e}function s(e,t,a){const l=Math.ceil(a/t);return e>=l}function i(e=0){document.getElementById("app").scrollTo({top:e,left:0,behavior:"smooth"})}},36632:function(e,t,a){a.r(t),a.d(t,{default:function(){return r}});var l=a(10661),n=(a(3241),a(35095),a(14181)),o=(a(33828),a(66252)),s=a(2262),i=a(49963),u={__name:"index",props:{text:{type:String,default:""},tipText:{type:String,default:"拷贝生成信息"}},setup(e){const t=e,a=(0,s.qj)({tooltipText:t.tipText,tooltipStatus:!1});async function u(){try{await navigator.clipboard.writeText(t.text),a.tooltipText="已复制！"}catch(e){a.tooltipText="复制失败"}}function c(){a.tooltipStatus=!0,a.tooltipText=t.tipText,setTimeout((()=>{a.tooltipStatus=!1}),200)}return(e,t)=>{const d=(0,o.up)("DocumentCopy"),r=n.gn,m=l.Q0;return(0,o.wg)(),(0,o.j4)(m,{class:"box-item",effect:"dark",content:(0,s.SU)(a).tooltipText,disabled:(0,s.SU)(a).tooltipStatus,placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{style:{color:"var(--el-color-success)"},class:"cursor-pointer",onClick:(0,i.iM)(u,["stop"]),onMouseleave:(0,i.iM)(c,["stop"])},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1},8,["onClick","onMouseleave"])])),_:1},8,["content","disabled"])}}};function c(e){e.__source="src/components/ClipboardTips/index.vue"}"function"===typeof c&&c(u);const d=u;var r=d},2766:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var l=a(73481),n=(a(3241),a(62029),a(20129)),o=(a(69840),a(57534)),s=(a(92471),a(57018)),i=(a(74367),a(6589),a(73632)),u=(a(74965),a(22040)),c=(a(99426),a(16273)),d=a(61046),r=(a(19414),a(15659)),m=(a(10444),a(14181)),f=(a(33828),a(66252)),p=a(3577);const g={class:"share-form-container"},w={class:"lora-draw-card-body"},_={class:"lora-draw-image-group"},k={class:"lora-draw-image"},h={class:"lora-draw-card-body"},W={class:"lora-draw-image-group"},v={class:"lora-draw-image"};function y(e,t,a,y,b,x){const C=(0,f.up)("Share"),V=m.gn,T=r.ElButton,U=d.F8,D=c.Z,S=u.Dv,q=i.dq,I=n.nH,j=s.EZ,E=o.Ks,M=n.ly,F=l.d0;return(0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.Wm)(T,{text:"",onClick:t[0]||(t[0]=t=>e.dialogFormVisible=!0)},{default:(0,f.w5)((()=>[(0,f.Wm)(V,null,{default:(0,f.w5)((()=>[(0,f.Wm)(C)])),_:1}),(0,f.Uk)(" 分享 ")])),_:1}),(0,f._)("div",g,[(0,f.Wm)(F,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dialogFormVisible=t),title:"分享作品"},{default:(0,f.w5)((()=>[(0,f.Wm)(M,{model:e.form},{default:(0,f.w5)((()=>[(0,f.Wm)(I,null,{default:(0,f.w5)((()=>[(0,f.Wm)(q,{gutter:16,span:"24",justify:"center"},{default:(0,f.w5)((()=>[(0,f.Wm)(S,{lg:4,md:4,sm:4,xl:3,xs:12},{default:(0,f.w5)((()=>[(0,f.Wm)(D,{"body-style":{padding:"0px"},shadow:"hover"},{default:(0,f.w5)((()=>[(0,f._)("div",w,[(0,f._)("div",_,[(0,f._)("div",k,[(0,f.Wm)(U,{src:"http://120.232.127.22/sd/forum/threadcover/d6/7d/39.jpg"})])])])])),_:1})])),_:1}),(0,f.Wm)(S,{lg:4,md:4,sm:4,xl:3,xs:12},{default:(0,f.w5)((()=>[(0,f.Wm)(D,{"body-style":{padding:"0px"},shadow:"hover"},{default:(0,f.w5)((()=>[(0,f._)("div",h,[(0,f._)("div",W,[(0,f._)("div",v,[(0,f.Wm)(U,{src:"http://120.232.127.22/sd/forum/threadcover/d6/7d/39.jpg"})])])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,f.Wm)(I,{label:"标题"},{default:(0,f.w5)((()=>[(0,f.Wm)(j,{modelValue:e.input1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.input1=t),placeholder:"请发挥您的创意，大笔挥上贴近您作品的创意标题"},null,8,["modelValue"])])),_:1}),(0,f.Wm)(I,{label:"使用标签"},{default:(0,f.w5)((()=>[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(e.dynamicTags,(t=>((0,f.wg)(),(0,f.j4)(E,{key:t,closable:"","disable-transitions":!1,style:{"margin-right":"10px","margin-bottom":"10px","margin-left":"0"},onClose:a=>e.handleClose(t)},{default:(0,f.w5)((()=>[(0,f.Uk)((0,p.zw)(t),1)])),_:2},1032,["onClose"])))),128))])),_:1}),(0,f.Wm)(I,{label:"可选标签"},{default:(0,f.w5)((()=>[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(e.dynamicTags,(t=>((0,f.wg)(),(0,f.j4)(E,{key:t,type:"info",closable:"","disable-transitions":!1,style:{"margin-right":"10px","margin-bottom":"10px","margin-left":"0"},onClose:a=>e.handleClose(t)},{default:(0,f.w5)((()=>[(0,f.Uk)((0,p.zw)(t),1)])),_:2},1032,["onClose"])))),128))])),_:1}),(0,f.Wm)(I,{label:"              "},{default:(0,f.w5)((()=>[(0,f.Wm)(T,{type:"primary",onClick:t[2]||(t[2]=t=>e.dialogFormVisible=!1)},{default:(0,f.w5)((()=>[(0,f.Uk)(" 发布，欣赏下我的杰作吧 ")])),_:1}),(0,f.Wm)(T,{onClick:t[3]||(t[3]=t=>e.dialogFormVisible=!1)},{default:(0,f.w5)((()=>[(0,f.Uk)(" 先不分享，缓缓 ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])],64)}a(57658);var b=a(2262),x=(0,f.aZ)({name:"ShareFormContainer",setup(){const e=(0,b.iH)(!1),t=(0,b.qj)({vabCropperRef:null,inputRef:null,dynamicTags:["腹黑","怕麻烦","小仙女","仙气飘飘"],inputVisible:!1,inputValue:""}),a=e=>{t.dynamicTags.splice(t.dynamicTags.indexOf(e),1)},l=()=>{t.inputValue&&t.dynamicTags.push(t.inputValue),t.inputVisible=!1,t.inputValue=""},n=()=>{t.inputVisible=!0,(0,f.Y3)((()=>{t.inputRef.focus()}))};return{...(0,b.BK)(t),dialogFormVisible:e,showInput:n,handleClose:a,handleInputConfirm:l}}});function C(e){e.__source="src/views/stablediffusion/components/shareform.vue"}var V=a(83744);"function"===typeof C&&C(x);const T=(0,V.Z)(x,[["render",y],["__scopeId","data-v-38de7fa3"]]);var U=T},15751:function(e,t,a){a.r(t),a.d(t,{default:function(){return X}});var l=a(32018),n=(a(3241),a(46160),a(73632)),o=(a(74965),a(22040)),s=(a(99426),a(16273)),i=a(63715),u=(a(5508),a(61046)),c=(a(19414),a(83396)),d=(a(48157),a(74741),a(91194)),r=(a(2993),a(15659)),m=(a(79987),a(10444),a(14181)),f=(a(33828),a(10661)),p=(a(35095),a(85381)),g=(a(68538),a(32590),a(66252)),w=a(2262),_=a(3577),k=a(49963),h=a(36632),W=a(2766),v=a(95244),y=a(92327),b=a(47720);const x=(0,b.Q_)("imageResult",{state:()=>({tasks:[]}),getters:{getTasks(){return this.tasks.map((e=>{const t=e.images.map((e=>(e.checked=!1,e)));return e.images=t,e.collapse=["1"],e.expired_at=`${(0,y.E)(e.expired_at)}过期`,e}))},getTasksImages(){return this.getTasks.map((e=>e.images)).flat()},getTasksCheckedImages(){return this.getTasksImages.filter((e=>e.checked))}},actions:{async load(){const{list:e}=await(0,v.ss)();this.tasks=e},resetImagesCheck(){this.getTasksCheckedImages.forEach((e=>e.checked=!1))}}});var C=a(91222),V=a(17052),T=a(33729),U=a.n(T);const D=e=>((0,g.dD)("data-v-46689616"),e=e(),(0,g.Cn)(),e),S={class:"taskqueue-container"},q={key:0},I={style:{"margin-left":"8px"}},j={class:"taskqueue-card-body"},E={class:"taskqueue-tag-group"},M={class:"taskqueue-image-group"},F={class:"taskqueue-folow"},z={key:1},H=D((()=>(0,g._)("i",{style:{"margin-left":"8px"}},"任务进行中",-1))),K={class:"taskqueue-card-body"},Y={class:"taskqueue-image-group"},Z={class:"taskqueue-image",justify:"center"},B={class:"percentage-value"},P=D((()=>(0,g._)("span",{class:"percentage-label"},"Progressing",-1)));var Q={__name:"taskqueue",setup(e){const t=(0,g.f3)("$baseConfirm"),a=(0,g.f3)("$baseMessage"),y=x(),T=(0,C.m)(),{getTasks:D,getTasksCheckedImages:Q}=(0,b.Jk)(y),{setFormType:R,setUploadImage:$,hdSetUploadImage:O,adSetUploadImage:X}=T,A=(0,w.qj)({accordion:!0}),{accordion:G}=(0,w.BK)(A),J=e=>{const t=e?["1"]:[];D.value.map((e=>e.collapse=t)),console.log(D.value)};async function L(e){t("你确定要删除当前任务吗",null,(async()=>{const{msg:t}=await(0,v._5)(e.missinId);a(t,"success","vab-hey-message-success"),y.load()}))}async function N(e){const t=e.replace(/(.*\/)*([^.]+\.\w+).*/gi,"$2");U()(e,t)}function ee(){Q.value.forEach((e=>{N(e.url)})),y.resetImagesCheck()}function te(e){$([{...e}]),R("basic"),(0,V.D8)()}function ae(e){O(e),R("hdrepaire"),(0,V.D8)()}function le(e){X(e),R("adetailer"),(0,V.D8)()}return(0,g.bv)((()=>{y.load()})),(e,t)=>{const a=d.QQ,v=p.OX,y=f.Q0,b=(0,g.up)("Download"),x=m.gn,C=r.ElButton,V=r.MO,T=d.Lf,U=(0,g.up)("Delete"),R=c.aE,$=c.PH,O=(0,g.up)("PictureRounded"),X=(0,g.up)("Picture"),A=(0,g.up)("Edit"),ne=(0,g.up)("EditPen"),oe=u.F8,se=(0,g.up)("Share"),ie=i.ElCheckbox,ue=s.Z,ce=o.Dv,de=n.dq,re=l.Xh;return(0,g.wg)(),(0,g.iD)("div",S,[(0,g.Wm)(T,{class:"margin-top",column:2},{default:(0,g.w5)((()=>[(0,g.Wm)(a,{label:"任务队列"}),(0,g.Wm)(a,{label:"","label-align":"right",align:"right"},{default:(0,g.w5)((()=>[(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"折叠图片生成信息",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(v,{modelValue:(0,w.SU)(G),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,w.dq)(G)?G.value=e:null),"inline-prompt":"",style:{"--el-switch-on-color":"var(--el-color-primary)","--el-switch-off-color":"var(--el-color-grey)"},"active-text":"显示","inactive-text":"隐藏",onChange:J},null,8,["modelValue"])])),_:1}),(0,w.SU)(Q).length>0?((0,g.wg)(),(0,g.j4)(V,{key:0,class:"ml-4"},{default:(0,g.w5)((()=>[(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"在任务列表中选择图片后点击此按钮可批量下载",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(C,{type:"default",text:"",onClick:ee},{default:(0,g.w5)((()=>[(0,g.Wm)(x,null,{default:(0,g.w5)((()=>[(0,g.Wm)(b)])),_:1}),(0,g.Uk)(" 下载 ")])),_:1})])),_:1}),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"在任务列表中选择图片后点击此按钮可把选择的图片发帖，分享出去",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)((0,w.SU)(W["default"]))])),_:1})])),_:1})):(0,g.kq)("",!0)])),_:1})])),_:1}),((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)((0,w.SU)(D),(e=>((0,g.wg)(),(0,g.iD)("div",{key:e.missinId},[e.percentage>=100?((0,g.wg)(),(0,g.iD)("div",q,[(0,g.Wm)($,{modelValue:e.collapse,"onUpdate:modelValue":t=>e.collapse=t},{default:(0,g.w5)((()=>[(0,g.Wm)(R,{name:"1"},{title:(0,g.w5)((()=>[(0,g.Uk)((0,_.zw)(e.created_at)+" ",1),(0,g._)("i",I,(0,_.zw)(e.expired_at),1),(0,g.Wm)((0,w.SU)(h["default"]),{text:e.params},null,8,["text"]),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"删除任务",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{style:{color:"var(--el-color-danger)"},onClick:(0,k.iM)((t=>L(e)),["stop"])},{default:(0,g.w5)((()=>[(0,g.Wm)(U)])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,g.w5)((()=>[(0,g._)("div",null,(0,_.zw)(e.params),1)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,g.Wm)(de,{gutter:16,span:"24",justify:"start"},{default:(0,g.w5)((()=>[((0,g.wg)(!0),(0,g.iD)(g.HY,null,(0,g.Ko)(e.images,(e=>((0,g.wg)(),(0,g.j4)(ce,{key:e.picid,xs:24,sm:12,md:6,lg:6,xl:4},{default:(0,g.w5)((()=>[(0,g.Wm)(ue,{"body-style":{padding:"0px"},shadow:"hover"},{default:(0,g.w5)((()=>[(0,g._)("div",j,[(0,g._)("div",E,[(0,g.Wm)(T,{style:{width:"100%"}},{default:(0,g.w5)((()=>[(0,g.Wm)(a,null,{default:(0,g.w5)((()=>[(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"重绘",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,null,{default:(0,g.w5)((()=>[(0,g.Wm)(O)])),_:1})])),_:1}),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"图生图",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{onClick:t=>te(e)},{default:(0,g.w5)((()=>[(0,g.Wm)(X)])),_:2},1032,["onClick"])])),_:2},1024),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"高清修复",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{onClick:t=>ae(e)},{default:(0,g.w5)((()=>[(0,g.Wm)(A)])),_:2},1032,["onClick"])])),_:2},1024),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"脸部修复",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{onClick:t=>le(e)},{default:(0,g.w5)((()=>[(0,g.Wm)(ne)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)]),(0,g._)("div",M,[(0,g._)("div",{class:(0,_.C_)(e.checked?"taskqueue-image-select":"taskqueue-image")},[(0,g.Wm)(oe,{src:e.url,"zoom-rate":1.1,"preview-src-list":[e.url],"initial-index":0,"hide-on-click-modal":"true",fit:"contain"},null,8,["src","preview-src-list"])],2),(0,g._)("div",F,[(0,g.Wm)(T,{style:{width:"100%"}},{default:(0,g.w5)((()=>[(0,g.Wm)(a,null,{default:(0,g.w5)((()=>[(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"删图",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,null,{default:(0,g.w5)((()=>[(0,g.Wm)(U)])),_:1})])),_:1}),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"分享",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,null,{default:(0,g.w5)((()=>[(0,g.Wm)(se)])),_:1})])),_:1}),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"下载",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{onClick:t=>N(e.url)},{default:(0,g.w5)((()=>[(0,g.Wm)(b)])),_:2},1032,["onClick"])])),_:2},1024),(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"选中批量下载和分享",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(ie,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,label:"",size:"large"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])])])])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])):((0,g.wg)(),(0,g.iD)("div",z,[(0,g.Wm)($,{modelValue:e.collapse,"onUpdate:modelValue":t=>e.collapse=t},{default:(0,g.w5)((()=>[(0,g.Wm)(R,{name:"1"},{title:(0,g.w5)((()=>[(0,g.Uk)((0,_.zw)(e.created_at)+" ",1),H,(0,g.Wm)(y,{class:"box-item",effect:"dark",content:"删除任务",placement:"top"},{default:(0,g.w5)((()=>[(0,g.Wm)(x,{style:{color:"var(--el-color-danger)"}},{default:(0,g.w5)((()=>[(0,g.Wm)(U)])),_:1})])),_:1})])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,g.Wm)(de,{gutter:16},{default:(0,g.w5)((()=>[(0,g.Wm)(ce,{xs:24,sm:12,md:6,lg:6,xl:4},{default:(0,g.w5)((()=>[(0,g.Wm)(ue,{"body-style":{padding:"0px"},shadow:"hover"},{default:(0,g.w5)((()=>[(0,g._)("div",K,[(0,g._)("div",Y,[(0,g._)("div",Z,[(0,g.Wm)(re,{type:"dashboard",percentage:e.percentage},{default:(0,g.w5)((({percentage:e})=>[(0,g._)("span",B,(0,_.zw)(e)+"%",1),P])),_:2},1032,["percentage"])])])])])),_:2},1024)])),_:2},1024)])),_:2},1024)]))])))),128))])}}};function R(e){e.__source="src/views/stablediffusion/components/taskqueue.vue"}var $=a(83744);"function"===typeof R&&R(Q);const O=(0,$.Z)(Q,[["__scopeId","data-v-46689616"]]);var X=O}}]);