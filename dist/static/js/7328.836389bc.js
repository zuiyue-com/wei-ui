/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-09-28 17:16:01
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7328,1794,329,5950],{24025:function(t,e,a){a.d(e,{BB:function(){return s},BN:function(){return c},PM:function(){return p},Xq:function(){return u},Z0:function(){return r},l0:function(){return l},wR:function(){return i}});var n=a(52806),o=a(12688);function s(t){return(0,n.Z)({url:"/wwwapi.php?to=postSd&filter=heat&orderby=heats",method:"get",params:t})}function c(t){return(0,n.Z)({url:"/wwwapi.php?to=postSdView&extra=",method:"get",params:t})}function i(t){return(0,n.Z)({url:"/wwwapi.php?to=postSdOfUser",method:"get",params:t})}async function r(t){const{body:{hash:e}}=await(0,o.Gv)();return t.formhash=e,(0,n.Z)({url:"/wwwapi.php?to=postDel",method:"post",data:t})}async function l(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,n.Z)({url:"/wwwapi.php?to=postFavAdd",method:"get",params:{id:t,formhash:e}})}async function u(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,n.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}function p(t){return(0,n.Z)({url:"/wwwapi.php?to=postFavlist",method:"get",params:t})}},41794:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var n=a(66252),o=a(3577),s=a(2262);const c={class:"box"};var i={__name:"index",props:{icon:{type:String,default:""},size:{type:String,default:""},text:{type:[Number,String],default:""},color:{type:String,default:""}},setup(t){const e=t,a=(0,n.Fl)((()=>{const t={fontSize:e.size};return e.color&&(t.color=e.color),t}));return(e,i)=>{const r=(0,n.up)("vab-icon");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(r,{icon:t.icon,style:(0,o.j5)((0,s.SU)(a))},null,8,["icon","style"]),(0,n._)("span",{style:(0,o.j5)((0,s.SU)(a))},(0,o.zw)(t.text),5)])}}};function r(t){t.__source="src/components/IconText/index.vue"}var l=a(83744);"function"===typeof r&&r(i);const u=(0,l.Z)(i,[["__scopeId","data-v-f5ef8f64"]]);var p=u},70329:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var n=a(77669),o=(a(3241),a(95774),a(66252)),s=a(3577);const c={key:0,class:"item"},i={class:"row"},r={class:"content-box"},l={class:"user-box"},u={class:"author"},p=["innerHTML"],d={class:"message"};var f={__name:"comment",props:{topic:{type:Object,default:()=>{}}},setup(t){return(e,a)=>{const f=n.vs;return t.topic?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",i,[(0,o.Wm)(f,{size:50,src:t.topic.avatar},null,8,["src"]),(0,o._)("div",r,[(0,o._)("div",l,[(0,o._)("div",u,(0,s.zw)(t.topic.author),1),(0,o._)("div",{class:"date",innerHTML:t.topic.dateline},null,8,p)]),(0,o._)("div",d,(0,s.zw)(t.topic.subject)+" "+(0,s.zw)(t.topic.message),1)])])])):(0,o.kq)("",!0)}}};function m(t){t.__source="src/views/topic/components/comment.vue"}var v=a(83744);"function"===typeof m&&m(f);const w=(0,v.Z)(f,[["__scopeId","data-v-72651460"]]);var h=w},85950:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=a(77669),o=(a(3241),a(95774),a(66252)),s=a(3577);const c={key:0,class:"item"},i={class:"row"},r={class:"name"},l=["innerHTML"],u={class:"content"};var p={__name:"topic",props:{topic:{type:Object,default:()=>{}}},setup(t){return(e,a)=>{const p=n.vs;return t.topic?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",i,[(0,o.Wm)(p,{size:50,src:t.topic.avatar},null,8,["src"]),(0,o._)("div",r,[(0,o._)("div",null,(0,s.zw)(t.topic.author),1),(0,o._)("div",{innerHTML:t.topic.dateline},null,8,l)])]),(0,o._)("div",u,(0,s.zw)(t.topic.subject),1)])):(0,o.kq)("",!0)}}};function d(t){t.__source="src/views/topic/components/topic.vue"}var f=a(83744);"function"===typeof d&&d(p);const m=(0,f.Z)(p,[["__scopeId","data-v-2611e43e"]]);var v=m},27328:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var n=a(73632),o=(a(3241),a(74965),a(57018)),s=(a(74367),a(77669)),c=(a(95774),a(15659)),i=(a(10444),a(57534)),r=(a(92471),a(22040)),l=(a(99426),a(25917)),u=(a(27109),a(61684),a(66252)),p=a(2262),d=a(3577),f=a(41794),m=a(85950),v=a(70329),w=a(24025),h=a(22201);const _={class:"wrap"},g={class:"image-box"},y=["src"],x={class:"topic"},S={class:"tags-box"},b={class:"info-box"},U={class:"comment-box"},k={class:"avatar"},W={class:"comments"};var j={__name:"detail",setup(t){const e=(0,h.yj)(),a=(0,p.qj)({detail:[],comments:[],extraInfo:{},id:e.params.id,page:1,pageSize:1,total:1});(0,u.bv)((()=>{F()}));const j=(0,u.Fl)((()=>a.detail)),z=(0,u.Fl)((()=>j.value.tags?j.value.tags.map((t=>({id:t[0],name:t[1]}))):[])),Z=(0,u.Fl)((()=>j.value.attachments?Object.values(j.value.attachments).map((t=>({id:t.aid,image:`${t.url}${t.attachment}`,height:t.height}))):[])),I=(0,u.Fl)((()=>{const t=Z.value.map((t=>t.height));return Math.max(...t)})),D=(0,u.Fl)((()=>1===Z.length?"none":"always"));async function F(){try{const t={tid:a.id,page:a.page},{body:{list:e,forum_thread:n,comments:o,page_perpage:s,page_allcount:c}}=await(0,w.BN)(t),i=Object.values(e);a.detail=i[0]??{},a.comments=i.slice(1),a.extraInfo=n,a.pageSize=parseInt(s),a.total=parseInt(c)}catch(t){console.log(t)}}async function q(){try{const t=await(0,w.l0)(j.value.tid);console.log(t)}catch(t){}}async function B(){try{const t=await(0,w.Xq)(j.value.tid);console.log(t)}catch(t){}}return(t,e)=>{const w=l.B6,h=l.$J,F=r.Dv,H=i.Ks,M=(0,u.up)("router-link"),O=(0,u.up)("vab-icon"),T=c.ElButton,C=s.vs,K=o.EZ,L=n.dq;return(0,u.wg)(),(0,u.iD)("div",_,[(0,u.Wm)(L,{class:"row"},{default:(0,u.w5)((()=>[(0,u.Wm)(F,{class:"col",xl:16,lg:16,md:12,sm:24,xs:24},{default:(0,u.w5)((()=>[(0,u.Wm)(h,{height:(0,p.SU)(I)+"px",autoplay:!1,arrow:(0,p.SU)(D)},{default:(0,u.w5)((()=>[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,p.SU)(Z),(t=>((0,u.wg)(),(0,u.j4)(w,{key:t.id},{default:(0,u.w5)((()=>[(0,u._)("div",g,[(0,u._)("img",{src:t.image},null,8,y)])])),_:2},1024)))),128))])),_:1},8,["height","arrow"])])),_:1}),(0,u.Wm)(F,{class:"col",xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,u.w5)((()=>[(0,u._)("div",x,[(0,u.Wm)((0,p.SU)(m["default"]),{topic:(0,p.SU)(j)},null,8,["topic"]),(0,u._)("div",S,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,p.SU)(z),(t=>((0,u.wg)(),(0,u.j4)(M,{key:t.id,to:{path:"/index",query:{id:t.id}}},{default:(0,u.w5)((()=>[(0,u.Wm)(H,{type:"info"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,d.zw)(t.name),1)])),_:2},1024)])),_:2},1032,["to"])))),128))]),(0,u._)("div",b,[(0,u.Wm)((0,p.SU)(f["default"]),{icon:"heart-3-line",text:(0,p.SU)(a).extraInfo.heats,class:"icon",onClick:q},null,8,["text"]),(0,u.Wm)((0,p.SU)(f["default"]),{icon:"heart-3-fill",text:(0,p.SU)(a).extraInfo.heats,color:"#B43838",class:"icon",onClick:B},null,8,["text"]),(0,u.Wm)((0,p.SU)(f["default"]),{icon:"chat-2-line",text:(0,p.SU)(a).extraInfo.views,class:"icon"},null,8,["text"]),(0,u.Wm)(T,{type:"warning",round:""},{default:(0,u.w5)((()=>[(0,u.Wm)(O,{icon:"share-forward-fill"}),(0,u.Uk)(" 分享赚算力 ")])),_:1})]),(0,u._)("div",U,[(0,u._)("div",k,[(0,u.Wm)(C,{size:50,src:"https://images.tusiassets.com/system/user/default_avatar.jpg!mfit_w120_h120_jpg_webp"})]),(0,u.Wm)(K,{placeholder:"在这里输入评论内容"})]),(0,u._)("div",W,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)((0,p.SU)(a).comments,(t=>((0,u.wg)(),(0,u.j4)((0,p.SU)(v["default"]),{key:t.pid,topic:t},null,8,["topic"])))),128))])])])),_:1})])),_:1})])}}};function z(t){t.__source="src/views/topic/detail.vue"}var Z=a(83744);"function"===typeof z&&z(j);const I=(0,Z.Z)(j,[["__scopeId","data-v-74644dd6"]]);var D=I}}]);