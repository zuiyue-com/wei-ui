/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-10 18:16:02
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[1814],{24025:function(t,e,a){a.d(e,{BB:function(){return n},BN:function(){return r},NY:function(){return l},PM:function(){return h},Xq:function(){return p},Z0:function(){return d},kA:function(){return u},l0:function(){return c},mE:function(){return w},wR:function(){return i},yo:function(){return f}});var s=a(52806),o=a(12688);function n(t){return(0,s.Z)({url:"/wwwapi.php?to=postSd&filter=heat&orderby=heats",method:"get",params:t})}function r(t){return(0,s.Z)({url:"/wwwapi.php?to=postSdView&extra=",method:"get",params:t})}function i(t){return(0,s.Z)({url:"/wwwapi.php?to=postSdOfUser",method:"get",params:t})}async function l(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postReply",method:"post",data:{file:"",subject:"",usesig:"1",replysubmit:"yes",formhash:e,tid:t.tid,message:t.message}})}async function u(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postReply",method:"post",data:{subject:"",usesig:"1",replysubmit:"yes",formhash:e,...t}})}async function d(t){const{body:{hash:e}}=await(0,o.Gv)();return t.formhash=e,(0,s.Z)({url:"/wwwapi.php?to=postDel",method:"post",data:t})}async function c(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postFavAdd",method:"get",params:{id:t,formhash:e}})}async function p(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postFavDel",method:"post",data:{favid:t,formhash:e}})}function h(t){return(0,s.Z)({url:"/wwwapi.php?to=postFavlist",method:"get",params:t})}async function w(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postLikes",method:"get",params:{tid:t,hash:e}})}async function f(t){const{body:{hash:e}}=await(0,o.Gv)();return(0,s.Z)({url:"/wwwapi.php?to=postReport",method:"post",data:{referer:"",reportsubmit:"true",rtype:"post",url:"",inajax:"1",handlekey:`miscreport${t.rid}`,formhash:e,...t}})}},16273:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(30032),o=(a(3241),a(91154),a(97830)),n=(a(13768),a(66252)),r=a(2262),i=a(3577),l=a(22201),u=(0,n.aZ)({__name:"index",props:{header:{type:String,default:""},bodyStyle:{type:Object,default:()=>({})},shadow:{type:String,default:""},skeleton:{type:Boolean,default:!1},skeletonRows:{type:Number,default:4}},setup(t){let e=null;const a=(0,r.iH)(!0);return e=setTimeout((()=>{a.value=!1}),500),(0,l.iS)(((t,a,s)=>{clearInterval(e),s()})),(e,l)=>{const u=o.vk,d=s.Kf;return(0,n.wg)(),(0,n.j4)(d,{"body-style":t.bodyStyle,class:"vab-card",shadow:t.shadow},(0,n.Nv)({default:(0,n.w5)((()=>[t.skeleton?((0,n.wg)(),(0,n.j4)(u,{key:0,animated:"",loading:(0,r.SU)(a),rows:t.skeletonRows},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{class:"vab-card-transition"})])),_:3},8,["loading","rows"])):(0,n.WI)(e.$slots,"default",{key:1,class:"vab-card-transition"})])),_:2},[e.$slots.header||t.header?{name:"header",fn:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n.Uk)((0,i.zw)(t.header),1)]))])),key:"0"}:void 0]),1032,["body-style","shadow"])}}});function d(t){t.__source="library/components/VabCard/index.vue"}var c=a(83744);"function"===typeof d&&d(u);const p=(0,c.Z)(u,[["__scopeId","data-v-391150ea"]]);var h=p},91814:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var s=a(49676),o=(a(3241),a(73204),a(16273)),n=a(91194),r=(a(2993),a(32590),a(10661)),i=(a(35095),a(57534)),l=(a(92471),a(61046)),u=(a(19414),a(57658),a(66252)),d=a(2262),c=a(3577),p=a(49963),h=a(24025),w=a(30582),f=a(19635);const m=t=>((0,u.dD)("data-v-160f9d68"),t=t(),(0,u.Cn)(),t),y={class:"posts-card-body"},_={class:"posts-image-group"},k={class:"posts-image"},v={key:0,class:"post-folow"},g=["onClick"],b=m((()=>(0,u._)("i",{class:"ri-chat-4-line",title:"评论"},null,-1))),W={key:0,class:"posts-description"},Z={class:"el-avatar el-avatar--small el-avatar--circle"},U=["src"],x=["onClick"],C=m((()=>(0,u._)("i",{class:"ri-chat-4-line",title:"评论"},null,-1)));var j={__name:"index",props:{list:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>{}},queryForm:{type:Object,default:()=>{}},hover:{type:Boolean,default:!0},showUserBar:{type:Boolean,default:!0}},emits:["load"],setup(t,{emit:e}){const a=t,m=(0,w.L)(),j=(0,u.Fl)((()=>a.list.map((t=>{t.link={path:`/topic/${t.tid}`},t.user_link=(0,f.gx)(t.authorid),t.can_action=m.canAction(t.authorid);const e=[];return e.push(t.can_action&&0==t.threadHasRecommend?"cursor-pointer":""),e.push(t.threadHasRecommend>0?"ri-heart-3-fill":"ri-heart-3-line"),t.like_classes=e,t}))));function R(t){e("load",t)}async function S(t){if(void 0===t.threadHasRecommend)return;if(!t.can_action||t.threadHasRecommend>0)return;const{body:{recommendc:e}}=await(0,h.mE)(t.tid);t.recommend_add=parseInt(e)+1,t.threadHasRecommend=1}return(e,a)=>{const h=l.F8,w=(0,u.up)("router-link"),f=i.Ks,m=r.Q0,z=n.QQ,B=n.Lf,I=o.Z,q=(0,u.up)("masonry-wall"),F=s.R;return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(q,{items:(0,d.SU)(j),gap:16,"column-width":230},{default:(0,u.w5)((({item:a,index:s})=>[((0,u.wg)(),(0,u.j4)(I,{key:a.tid,"body-style":{padding:"0px"},shadow:"hover"},{default:(0,u.w5)((()=>[(0,u._)("div",y,[(0,u._)("div",_,[(0,u.Wm)(w,{to:a.link},{default:(0,u.w5)((()=>[(0,u._)("div",k,[a.coverpath?((0,u.wg)(),(0,u.j4)(h,{key:0,src:a.coverpath},null,8,["src"])):(0,u.kq)("",!0)])])),_:2},1032,["to"]),(0,u._)("div",{class:(0,c.C_)(["posts-tag-group",{hover:t.hover}])},[(0,u.WI)(e.$slots,"action",{post:a},(()=>[(0,u.Wm)(f,{hit:""},{default:(0,u.w5)((()=>[(0,u.Uk)("做同款")])),_:1})]))],2),!t.showUserBar&&a.coverpath?((0,u.wg)(),(0,u.iD)("div",v,[(0,u.Wm)(B,{style:{width:"100%"}},{default:(0,u.w5)((()=>[(0,u.Wm)(z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(m,{class:"box-item",effect:"dark",content:"点赞",placement:"top"},{default:(0,u.w5)((()=>[(0,u._)("i",{class:(0,c.C_)(["ri-heart-3-line",a.like_classes]),onClick:(0,p.iM)((t=>S(a)),["stop"])},null,10,g)])),_:2},1024),(0,u.Uk)(" "+(0,c.zw)(a.recommend_add)+" ",1),(0,u.Wm)(m,{class:"box-item",effect:"dark",content:"评论",placement:"top"},{default:(0,u.w5)((()=>[b])),_:1}),(0,u.Uk)(" "+(0,c.zw)(a.replies),1)])),_:2},1024)])),_:2},1024)])):(0,u.kq)("",!0)]),(0,u._)("div",{class:(0,c.C_)(["posts-description ellipsisTitle",{"no-user-bar":!t.showUserBar}])},[(0,u.Wm)(w,{to:a.link,class:"user-link"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(a.subject),1)])),_:2},1032,["to"])],2),t.showUserBar?((0,u.wg)(),(0,u.iD)("div",W,[(0,u.Wm)(B,{style:{width:"100%"}},{default:(0,u.w5)((()=>[(0,u.Wm)(z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(w,{to:a.user_link,class:"user-link"},{default:(0,u.w5)((()=>[(0,u._)("span",Z,[(0,u._)("img",{src:a.authoravatar},null,8,U)])])),_:2},1032,["to"])])),_:2},1024),(0,u.Wm)(z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(w,{to:a.user_link,class:"user-link"},{default:(0,u.w5)((()=>[(0,u.Uk)((0,c.zw)(a.author),1)])),_:2},1032,["to"])])),_:2},1024),(0,u.Wm)(z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(m,{class:"box-item",effect:"dark",content:"点赞",placement:"top"},{default:(0,u.w5)((()=>[(0,u._)("i",{class:(0,c.C_)(["",a.like_classes]),onClick:(0,p.iM)((t=>S(a)),["stop"])},null,10,x)])),_:2},1024),(0,u.Uk)(" "+(0,c.zw)(a.recommend_add)+" ",1),(0,u.Wm)(m,{class:"box-item",effect:"dark",content:"评论",placement:"top"},{default:(0,u.w5)((()=>[C])),_:1}),(0,u.Uk)(" "+(0,c.zw)(a.replies),1)])),_:2},1024)])),_:2},1024)])):(0,u.kq)("",!0)])])),_:2},1024))])),_:3},8,["items"]),(0,d.SU)(j).length>0?((0,u.wg)(),(0,u.j4)(F,{key:0,"current-page":t.queryForm.page,layout:"prev, pager, next","page-size":t.pagination.pageSize,total:t.pagination.total,onCurrentChange:R},null,8,["current-page","page-size","total"])):(0,u.kq)("",!0)],64)}}};function R(t){t.__source="src/components/TopicList/index.vue"}var S=a(83744);"function"===typeof R&&R(j);const z=(0,S.Z)(j,[["__scopeId","data-v-160f9d68"]]);var B=z}}]);