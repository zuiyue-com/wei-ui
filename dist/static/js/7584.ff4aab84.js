/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-09-28 17:16:01
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[7584],{76291:function(e,l,a){a.r(l),a.d(l,{default:function(){return _}});var t=a(66252);const n={class:"el-card el-upload-dragger list-item"},o={class:"list-item-meta"},i={class:"list-item-meta-avatar"},u={class:"list-item-meta-content"},d={class:"card-header"};function s(e,l){return(0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",o,[(0,t._)("div",i,[(0,t.WI)(e.$slots,"image",{},void 0,!0)]),(0,t._)("div",u,[(0,t._)("div",d,[(0,t.WI)(e.$slots,"header",{},void 0,!0)]),(0,t.WI)(e.$slots,"content",{},void 0,!0)])])])}function m(e){e.__source="src/components/CardItem/index.vue"}var c=a(83744);const r={};"function"===typeof m&&m(r);const p=(0,c.Z)(r,[["render",s],["__scopeId","data-v-aaf33c88"]]);var _=p},26968:function(e,l,a){a.r(l),a.d(l,{default:function(){return r}});var t=a(57018),n=(a(3241),a(74367),a(66252)),o=a(2262),i=a(3577),u=a(25498),d={__name:"index",props:{value:{type:[Number,String],default:0},placeholder:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:0},disabled:{type:Boolean,default:!1}},emits:["update:value"],setup(e,{emit:l}){const a=e;(0,n.YP)((()=>a.value),(()=>{s.value=a.value}));const d=a.value,s=(0,o.iH)(parseInt(d));function m(){const e=parseInt(s.value);isNaN(e)?s.value=d:(s.value<a.min&&(s.value=a.min),s.value>a.max&&(s.value=a.max),l("update:value",s.value))}const c=(0,n.Fl)((()=>""===s.value||(0,u.yH)(s.value)));return(l,a)=>{const u=t.EZ;return(0,n.wg)(),(0,n.j4)(u,{modelValue:(0,o.SU)(s),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.dq)(s)?s.value=e:null),modelModifiers:{number:!0},placeholder:e.placeholder,class:(0,i.C_)({"error-value":!(0,o.SU)(c)}),disabled:e.disabled,onChange:m},(0,n.Nv)({_:2},[l.$slots.prepend?{name:"prepend",fn:(0,n.w5)((()=>[(0,n.WI)(l.$slots,"prepend")])),key:"0"}:void 0]),1032,["modelValue","placeholder","class","disabled"])}}};function s(e){e.__source="src/components/InputNumber/index.vue"}var m=a(83744);"function"===typeof s&&s(d);const c=(0,m.Z)(d,[["__scopeId","data-v-c7154110"]]);var r=c},82253:function(e,l,a){a.r(l),a.d(l,{default:function(){return g}});var t=a(54717),n=(a(3241),a(50552),a(73632)),o=(a(74965),a(22040)),i=(a(99426),a(14181)),u=(a(33828),a(14132)),d=(a(50986),a(66252)),s=a(2262),m=a(3577),c=a(12855),r=a(17454),p=a(47720);const _={class:"checkpoint-container"},v=["id"];var f=(0,d.aZ)({__name:"checkpoint",setup(e){const l=(0,r.m)(),a=(0,s.iH)(!1),{basicForm:f,basicFormTemp:w,basicOptions:S}=(0,p.Jk)(l),{setSdModel:U}=l;function g(e){U(e),a.value=!1}return(e,l)=>{const r=u.ElSelect,p=(0,d.up)("Close"),f=i.gn,U=o.Dv,h=n.dq,b=t.zd;return(0,d.wg)(),(0,d.iD)("div",_,[(0,d.Wm)(r,{modelValue:(0,s.SU)(w).sd_model_checkpoint_name,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.SU)(w).sd_model_checkpoint_name=e),clearable:"",placeholder:"选择模型",onClick:l[1]||(l[1]=e=>a.value=!0)},null,8,["modelValue"]),(0,d.Wm)(b,{modelValue:(0,s.SU)(a),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,s.dq)(a)?a.value=e:null),"show-close":!1,size:"60%"},{header:(0,d.w5)((({close:e,titleId:l,titleClass:a})=>[(0,d._)("h4",{id:l,class:(0,m.C_)(a)},"基础模型",10,v),(0,d.Wm)(f,{color:"red",class:"cursor-pointer",onClick:e},{default:(0,d.w5)((()=>[(0,d.Wm)(p)])),_:2},1032,["onClick"])])),default:(0,d.w5)((()=>[(0,d.Wm)(h,{gutter:16,span:"24"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)((0,s.SU)(S).Checkpoints,(e=>((0,d.wg)(),(0,d.j4)(U,{key:e.key,lg:4,md:4,sm:4,xl:3,xs:24},{default:(0,d.w5)((()=>[(0,d.Wm)(c["default"],{item:e,onClick:l=>g(e)},null,8,["item","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])}}});function w(e){e.__source="src/views/stablediffusion/components/checkpoint.vue"}var S=a(83744);"function"===typeof w&&w(f);const U=(0,S.Z)(f,[["__scopeId","data-v-1209bb41"]]);var g=U},13769:function(e,l,a){a.r(l),a.d(l,{default:function(){return x}});var t=a(47223),n=(a(3241),a(96624),a(61046)),o=(a(19414),a(54717)),i=(a(50552),a(73632)),u=(a(74965),a(22040)),d=(a(99426),a(14181)),s=(a(33828),a(15659)),m=(a(10444),a(66252)),c=a(2262),r=a(3577),p=a(76291),_=a(12855),v=a(17454),f=a(23279),w=a.n(f),S=a(47720);const U={class:"lora-container"},g=["id"],h={key:0,class:"action"};var b=(0,m.aZ)({__name:"lora",setup(e){const l=(0,v.m)(),a=(0,m.f3)("$baseMessage"),f=(0,c.iH)(!1),{basicForm:b,basicOptions:k,checkedLoraStyles:W,checkedLoraStylesLength:y}=(0,S.Jk)(l),{addLoraStyle:x,removeLoraStyle:C,resetLoraStyleSelectStatus:V}=l;function D(e){const l=x(e);l?(f.value=!1,V()):a("该 Lora 风格已经添加","error","vab-hey-message-error")}const I=w()((e=>{f.value&&(e.checked=!e.checked)}),200);function z(e){const l=C(e);l||a("删除 Lora 风格失败","error","vab-hey-message-error")}function H(){W.value.map((e=>x(e))),V(),f.value=!1}function F(){f.value=!1,V()}return(e,l)=>{const a=s.ElButton,v=(0,m.up)("Close"),w=d.gn,S=u.Dv,W=i.dq,x=o.zd,C=n.F8,L=(0,m.up)("vab-icon"),Y=t.BM;return(0,m.wg)(),(0,m.iD)("div",U,[(0,m.Wm)(a,{class:"lora-button",onClick:l[0]||(l[0]=e=>f.value=!0)},{default:(0,m.w5)((()=>[(0,m.Uk)(" 添加LoRA(风格) ")])),_:1}),(0,m.Wm)(x,{modelValue:(0,c.SU)(f),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,c.dq)(f)?f.value=e:null),"show-close":!1,size:"60%"},{header:(0,m.w5)((({titleId:e,titleClass:l})=>[(0,m._)("h4",{id:e,class:(0,r.C_)(l)},"选择LoRA(风格)，可多选",10,g),(0,c.SU)(y)>0?((0,m.wg)(),(0,m.iD)("div",h,[(0,m.Wm)(a,{type:"primary",plain:"",onClick:(0,c.SU)(V)},{default:(0,m.w5)((()=>[(0,m.Uk)(" 取消 ")])),_:1},8,["onClick"]),(0,m.Wm)(a,{type:"primary",onClick:H},{default:(0,m.w5)((()=>[(0,m.Uk)(" 选择 ")])),_:1})])):(0,m.kq)("",!0),(0,m.Wm)(w,{color:"red",class:"cursor-pointer",onClick:F},{default:(0,m.w5)((()=>[(0,m.Wm)(v)])),_:1})])),default:(0,m.w5)((()=>[(0,m.Wm)(W,{gutter:16,span:"24"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,c.SU)(k).loraStyle,(e=>((0,m.wg)(),(0,m.j4)(S,{key:e.key,lg:4,md:4,sm:4,xl:3,xs:24},{default:(0,m.w5)((()=>[(0,m.Wm)(_["default"],{item:e,zoom:"",onClick:l=>(0,c.SU)(I)(e),onDblclick:l=>D(e)},null,8,["item","onClick","onDblclick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,c.SU)(b).styles,(e=>((0,m.wg)(),(0,m.j4)(p["default"],{key:e.name},{image:(0,m.w5)((()=>[(0,m.Wm)(C,{src:e.pic,width:"48",class:"upload-image"},null,8,["src"])])),header:(0,m.w5)((()=>[(0,m._)("span",null,(0,r.zw)(e.name),1),(0,m.Wm)(L,{icon:"delete-bin-6-line",style:{color:"var(--el-color-danger)"},onClick:l=>z(e.key)},null,8,["onClick"])])),content:(0,m.w5)((()=>[(0,m.Wm)(Y,{modelValue:e.weight,"onUpdate:modelValue":l=>e.weight=l,min:e.min,max:e.max,step:.1},null,8,["modelValue","onUpdate:modelValue","min","max"])])),_:2},1024)))),128))])}}});function k(e){e.__source="src/views/stablediffusion/components/lora.vue"}var W=a(83744);"function"===typeof k&&k(b);const y=(0,W.Z)(b,[["__scopeId","data-v-4b82ccfd"]]);var x=y},67584:function(e,l,a){a.r(l),a.d(l,{default:function(){return V}});var t=a(47223),n=(a(3241),a(96624),a(73632)),o=(a(74965),a(22040)),i=(a(99426),a(87692)),u=(a(45393),a(22411),a(57018)),d=(a(74367),a(20129)),s=(a(69840),a(14132)),m=(a(50986),a(61715),a(6589),a(66252)),c=a(2262),r=a(3577),p=a(82253),_=a(13769),v=a(73380),f=a(26968),w=a(17454),S=a(47720);const U={class:"txt2imgFrom"},g={class:"txt2imgFrom"},h={class:"txt2imgFrom"},b={key:0},k={key:1},W={class:"widthAndHeightInput"};var y={__name:"txt2img",setup(e){const l=(0,w.m)(),{basicFormTemp:a,basicForm:y,basicOptions:x,isCustomImageSize:C}=(0,S.Jk)(l),{changeImageSize:V}=l;return(e,l)=>{const w=d.nH,S=s.BT,D=s.ElSelect,I=d.ly,z=u.EZ,H=i.dn,F=i.KD,L=o.Dv,Y=n.dq,q=t.BM;return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m._)("div",U,[(0,m.Wm)(I,{"label-position":"top","label-width":"100px"},{default:(0,m.w5)((()=>[(0,m.Wm)(w,{label:"基础模型"},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(p["default"]))])),_:1}),(0,m.Wm)(w,{label:""},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(_["default"]))])),_:1}),(0,m.Wm)(w,{label:"VAE"},{default:(0,m.w5)((()=>[(0,m.Wm)(D,{modelValue:(0,c.SU)(y).override_settings.sd_vae,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,c.SU)(y).override_settings.sd_vae=e),clearable:"",placeholder:"Select"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,c.SU)(x).sdVae,((e,l)=>((0,m.wg)(),(0,m.j4)(S,{key:l,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(0,m._)("div",g,[(0,m.Wm)(I,{"label-position":"top","label-width":"100px"},{default:(0,m.w5)((()=>[(0,m.Wm)(w,{label:"提示词"},{default:(0,m.w5)((()=>[(0,m.Wm)(z,{modelValue:(0,c.SU)(y).prompt_words,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,c.SU)(y).prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,m.Wm)(w,{label:"反向提示词"},{default:(0,m.w5)((()=>[(0,m.Wm)(z,{modelValue:(0,c.SU)(y).negative_prompt_words,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,c.SU)(y).negative_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,m.Wm)(w,{label:"图生图"},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(v["default"]))])),_:1})])),_:1})]),(0,m._)("div",h,[(0,m.Wm)(I,{"label-position":"top","label-width":"100px"},{default:(0,m.w5)((()=>[(0,m.Wm)(w,{label:"出图大小"},{default:(0,m.w5)((()=>[(0,m._)("div",null,[(0,m.Wm)(F,{modelValue:(0,c.SU)(a).size,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,c.SU)(a).size=e),size:"large",onChange:(0,c.SU)(V)},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,c.SU)(x).imageSize,((e,l)=>((0,m.wg)(),(0,m.j4)(H,{key:l,label:l},{default:(0,m.w5)((()=>[2===e.length?((0,m.wg)(),(0,m.iD)("div",b,(0,r.zw)(`${e[0]} * ${e[1]}`),1)):(0,m.kq)("",!0),e.length>2?((0,m.wg)(),(0,m.iD)("div",k,"自定义")):(0,m.kq)("",!0)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,m._)("div",W,[(0,m.Wm)(Y,null,{default:(0,m.w5)((()=>[(0,m.Wm)(L,{span:12},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).width,"onUpdate:value":l[4]||(l[4]=e=>(0,c.SU)(y).width=e),placeholder:"请输入生图的宽度",min:(0,c.SU)(x).imageSizeCustom.minWidth,max:(0,c.SU)(x).imageSizeCustom.maxWidth,disabled:!(0,c.SU)(C)},{prepend:(0,m.w5)((()=>[(0,m.Uk)("宽度")])),_:1},8,["value","min","max","disabled"])])),_:1}),(0,m.Wm)(L,{span:12},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).height,"onUpdate:value":l[5]||(l[5]=e=>(0,c.SU)(y).height=e),placeholder:"请输入生图的高度",min:(0,c.SU)(x).imageSizeCustom.minHeight,max:(0,c.SU)(x).imageSizeCustom.maxHeight,disabled:!(0,c.SU)(C)},{prepend:(0,m.w5)((()=>[(0,m.Uk)("高度")])),_:1},8,["value","min","max","disabled"])])),_:1})])),_:1})])])),_:1}),(0,m.Wm)(w,{label:"采样算法"},{default:(0,m.w5)((()=>[(0,m.Wm)(D,{modelValue:(0,c.SU)(y).sampler_index,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,c.SU)(y).sampler_index=e),clearable:"",placeholder:"采样算法"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,c.SU)(x).samplerMethod,((e,l)=>((0,m.wg)(),(0,m.j4)(S,{key:l,label:e,value:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,m.Wm)(w,{label:""},{default:(0,m.w5)((()=>[(0,m.Wm)(Y,null,{default:(0,m.w5)((()=>[(0,m.Wm)(L,{span:12},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).num_samples,"onUpdate:value":l[7]||(l[7]=e=>(0,c.SU)(y).num_samples=e),placeholder:"采样次数",min:(0,c.SU)(x).samplerStep.min,max:(0,c.SU)(x).samplerStep.max},{prepend:(0,m.w5)((()=>[(0,m.Uk)("采样次数")])),_:1},8,["value","min","max"])])),_:1}),(0,m.Wm)(L,{span:12},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).cfg_scale,"onUpdate:value":l[8]||(l[8]=e=>(0,c.SU)(y).cfg_scale=e),placeholder:"提示词相关性",min:(0,c.SU)(x).CFGScale.min,max:(0,c.SU)(x).CFGScale.max},{prepend:(0,m.w5)((()=>[(0,m.Uk)("提示词相关性")])),_:1},8,["value","min","max"])])),_:1})])),_:1})])),_:1}),(0,m.Wm)(w,{label:"随机种子"},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).seed,"onUpdate:value":l[9]||(l[9]=e=>(0,c.SU)(y).seed=e),placeholder:"随机种子",min:-1,max:9999999999},null,8,["value"])])),_:1}),(0,m.Wm)(w,{label:"Clip Skip"},{default:(0,m.w5)((()=>[(0,m.Wm)(q,{modelValue:(0,c.SU)(y).clip_skip,"onUpdate:modelValue":l[10]||(l[10]=e=>(0,c.SU)(y).clip_skip=e),"show-input":"",min:(0,c.SU)(x).clipSkip.min,max:(0,c.SU)(x).clipSkip.max},null,8,["modelValue","min","max"])])),_:1}),(0,m.Wm)(w,{label:""},{default:(0,m.w5)((()=>[(0,m.Wm)((0,c.SU)(f["default"]),{value:(0,c.SU)(y).ensd,"onUpdate:value":l[11]||(l[11]=e=>(0,c.SU)(y).ensd=e),placeholder:"ENSD",min:-9999999999,max:9999999999},{prepend:(0,m.w5)((()=>[(0,m.Uk)("ENSD")])),_:1},8,["value"])])),_:1})])),_:1})])],64)}}};function x(e){e.__source="src/views/stablediffusion/components/txt2img.vue"}"function"===typeof x&&x(y);const C=y;var V=C},73380:function(e,l,a){a.r(l),a.d(l,{default:function(){return S}});var t=a(61046),n=(a(3241),a(19414),a(79329)),o=(a(68984),a(66252)),i=a(2262),u=a(49963),d=a(3577),s=a(17454),m=a(76291),c=a(15592),r=a(47720);const p=(0,o._)("div",{class:"el-upload__text"},[(0,o.Uk)(" 把图片拖放到这里 / "),(0,o._)("em",null,"点击这里上传")],-1),_={key:0,class:"width-100"};var v={__name:"upload",setup(e){const l=(0,s.m)(),{basicFormTemp:a,basicForm:v,hasUploadedImage:f}=(0,r.Jk)(l),{setUploadImage:w}=l,S=(0,i.iH)(null);function U(){S.value.clearFiles()}return(0,o.YP)(f,(async()=>{const e=await Promise.all(a.value.init_images.map((async e=>{const{width:l,height:a,src:t}=await(0,c.I)(e.raw);let n="";return l&&(n=`图片大小 ${l}x${a}`),{url:t,title:n}})));w(e)})),(e,l)=>{const s=n.LW,c=t.F8,r=(0,o.up)("vab-icon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)((0,o.Wm)(s,{ref_key:"uploadRef",ref:S,"file-list":(0,i.SU)(a).init_images,"onUpdate:fileList":l[0]||(l[0]=e=>(0,i.SU)(a).init_images=e),drag:"",limit:1,"auto-upload":!1,"show-file-list":!1,class:"upload-demo"},{default:(0,o.w5)((()=>[p])),_:1},8,["file-list"]),[[u.F8,!(0,i.SU)(f)]]),(0,i.SU)(f)?((0,o.wg)(),(0,o.iD)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(v).init_images,(e=>((0,o.wg)(),(0,o.j4)((0,i.SU)(m["default"]),{key:e},{image:(0,o.w5)((()=>[(0,o.Wm)(c,{src:e.url,width:"48",class:"upload-image"},null,8,["src"])])),header:(0,o.w5)((()=>[(0,o._)("span",null,(0,d.zw)(e.title),1),(0,o.Wm)(r,{icon:"delete-bin-6-line",style:{color:"var(--el-color-danger)"},onClick:U})])),_:2},1024)))),128))])):(0,o.kq)("",!0)],64)}}};function f(e){e.__source="src/views/stablediffusion/components/upload.vue"}"function"===typeof f&&f(v);const w=v;var S=w}}]);