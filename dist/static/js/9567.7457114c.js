/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2023-10-19 19:31:27
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[9567,7108,1517],{41090:function(e,a,l){l.r(a),l.d(a,{default:function(){return x}});var t=l(47223),d=(l(3241),l(96624),l(57018)),s=(l(74367),l(14132)),i=(l(50986),l(61715),l(20129)),o=(l(69840),l(6589),l(35756)),n=(l(19414),l(66252)),m=l(2262),r=l(3577),u=l(97280),c=l(93893),_=l(91222),p=l(47720);const f=e=>((0,n.dD)("data-v-d2f6c97e"),e=e(),(0,n.Cn)(),e),g={class:"ADtailerFrom"},w={key:1,class:"el-card el-upload-dragger list-item"},S=f((()=>(0,n._)("div",{class:"list-item-meta"},[(0,n._)("div",{class:"list-item-meta-content-left"},[(0,n._)("ul",null,[(0,n._)("li",null,"请从任务列表选择想要操作的图片"),(0,n._)("li",null,"点击图片上的 (ADtailer修复) 按钮")])])],-1))),U=[S],b={class:"txt2imgFrom"};var h={__name:"adetailer",setup(e){const a=(0,_.m)(),{adetailerForm:l,adetailerOptions:f}=(0,p.Jk)(a),{adSetUploadImage:S}=a;return(e,a)=>{const _=o.F8,p=(0,n.up)("vab-icon"),h=i.nH,v=i.ly,W=s.BT,y=s.ElSelect,x=d.EZ,V=t.BM;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",g,[(0,n.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"基础图片"},{default:(0,n.w5)((()=>[(0,m.SU)(l).base_image.url?((0,n.wg)(),(0,n.j4)((0,m.SU)(u["default"]),{key:0},{image:(0,n.w5)((()=>[(0,n.Wm)(_,{src:(0,m.SU)(l).base_image.url,width:"48"},null,8,["src"])])),header:(0,n.w5)((()=>[(0,n._)("span",null,(0,r.zw)((0,m.SU)(l).base_image.title),1)])),action:(0,n.w5)((()=>[(0,n.Wm)(p,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:a[0]||(a[0]=e=>(0,m.SU)(S)({}))})])),_:1})):((0,n.wg)(),(0,n.iD)("div",w,U))])),_:1})])),_:1})]),(0,n._)("div",b,[(0,n.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{label:"ADetailer 模型"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:(0,m.SU)(l).ad_model,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,m.SU)(l).ad_model=e),clearable:"",placeholder:"Select"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,m.SU)(f).adModel,(e=>((0,n.wg)(),(0,n.j4)(W,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(h,{label:""},{default:(0,n.w5)((()=>[(0,n.Wm)((0,m.SU)(c["default"]),{"lora-styles":(0,m.SU)(f).loraStyle,"form-styles":(0,m.SU)(l).styles},null,8,["lora-styles","form-styles"])])),_:1}),(0,n.Wm)(h,{label:"创意描述"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{modelValue:(0,m.SU)(l).ad_prompt_words,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,m.SU)(l).ad_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(h,{label:"排除词"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{modelValue:(0,m.SU)(l).ad_negative_prompt_words,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,m.SU)(l).ad_negative_prompt_words=e),type:"textarea",rows:"3"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(h,{label:"置信度"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{modelValue:(0,m.SU)(l).ad_confidence,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,m.SU)(l).ad_confidence=e),min:(0,m.SU)(f).adConfidence.min,max:(0,m.SU)(f).adConfidence.max,step:.1},null,8,["modelValue","min","max"])])),_:1}),(0,n.Wm)(h,{label:"重绘蒙版模糊"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{modelValue:(0,m.SU)(l).ad_dilate_erode,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,m.SU)(l).ad_dilate_erode=e),min:(0,m.SU)(f).adMaskBlur.min,max:(0,m.SU)(f).adMaskBlur.max},null,8,["modelValue","min","max"])])),_:1}),(0,n.Wm)(h,{label:"重绘噪声强度"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{modelValue:(0,m.SU)(l).ad_denoising_strength,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,m.SU)(l).ad_denoising_strength=e),min:(0,m.SU)(f).adDenoisingStrength.min,max:(0,m.SU)(f).adDenoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function v(e){e.__source="src/views/stablediffusion/components/adetailer.vue"}var W=l(83744);"function"===typeof v&&v(h);const y=(0,W.Z)(h,[["__scopeId","data-v-d2f6c97e"]]);var x=y},58545:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var t=l(47223),d=(l(3241),l(96624),l(14132)),s=(l(50986),l(61715),l(20129)),i=(l(69840),l(6589),l(35756)),o=(l(19414),l(66252)),n=l(2262),m=l(3577),r=l(97280),u=l(18594),c=l(91222),_=l(47720);const p=e=>((0,o.dD)("data-v-78424496"),e=e(),(0,o.Cn)(),e),f={class:"HDRepaireFrom"},g={key:1,class:"el-card el-upload-dragger list-item"},w=p((()=>(0,o._)("div",{class:"list-item-meta"},[(0,o._)("div",{class:"list-item-meta-content-left"},[(0,o._)("ul",null,[(0,o._)("li",null,"请从任务列表选择想要操作的图片"),(0,o._)("li",null,"点击图片上的 (高清修复) 按钮")])])],-1))),S=[w],U={class:"txt2imgFrom"};var b={__name:"hdrepaire",setup(e){const a=(0,c.m)(),{hdrepaireForm:l,hdrepaireOptions:p,isHdrepaireCustomImageSize:w}=(0,_.Jk)(a),{hdSetUploadImage:b}=a;return(e,a)=>{const c=i.F8,_=(0,o.up)("vab-icon"),h=s.nH,v=s.ly,W=d.BT,y=d.ElSelect,x=t.BM;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",f,[(0,o.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:"基础图片"},{default:(0,o.w5)((()=>[(0,n.SU)(l).base_image.url?((0,o.wg)(),(0,o.j4)((0,n.SU)(r["default"]),{key:0},{image:(0,o.w5)((()=>[(0,o.Wm)(c,{src:(0,n.SU)(l).base_image.url,width:"48"},null,8,["src"])])),header:(0,o.w5)((()=>[(0,o._)("span",null,(0,m.zw)((0,n.SU)(l).base_image.title),1)])),action:(0,o.w5)((()=>[(0,o.Wm)(_,{icon:"delete-bin-6-line",class:"cursor-pointer",style:{color:"var(--el-color-danger)"},onClick:a[0]||(a[0]=e=>(0,n.SU)(b)({}))})])),_:1})):((0,o.wg)(),(0,o.iD)("div",g,S))])),_:1})])),_:1})]),(0,o._)("div",U,[(0,o.Wm)(v,{"label-position":"top","label-width":"100px"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:"放大倍数"},{default:(0,o.w5)((()=>[(0,o.Wm)((0,n.SU)(u["default"]),{size:(0,n.SU)(l).hr_scale,"onUpdate:size":a[1]||(a[1]=e=>(0,n.SU)(l).hr_scale=e),width:(0,n.SU)(l).hr_resize_x,"onUpdate:width":a[2]||(a[2]=e=>(0,n.SU)(l).hr_resize_x=e),height:(0,n.SU)(l).hr_resize_y,"onUpdate:height":a[3]||(a[3]=e=>(0,n.SU)(l).hr_resize_y=e),"image-size":(0,n.SU)(p).hrImageSize,"image-size-custom":(0,n.SU)(p).imageSizeCustom,disabled:!(0,n.SU)(w)},null,8,["size","width","height","image-size","image-size-custom","disabled"])])),_:1}),(0,o.Wm)(h,{label:"修复方式"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:(0,n.SU)(l).hr_upscaler,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.SU)(l).hr_upscaler=e),clearable:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,n.SU)(p).hrUpscaler,(e=>((0,o.wg)(),(0,o.j4)(W,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(h,{label:"高清采样次数"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,n.SU)(l).hr_second_pass_steps,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,n.SU)(l).hr_second_pass_steps=e),min:(0,n.SU)(p).hrSecondPassSteps.min,max:(0,n.SU)(p).hrSecondPassSteps.max},null,8,["modelValue","min","max"])])),_:1}),(0,o.Wm)(h,{label:"重绘幅度"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{modelValue:(0,n.SU)(l).denoising_strength,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,n.SU)(l).denoising_strength=e),min:(0,n.SU)(p).denoisingStrength.min,max:(0,n.SU)(p).denoisingStrength.max,step:.1},null,8,["modelValue","min","max"])])),_:1})])),_:1})])],64)}}};function h(e){e.__source="src/views/stablediffusion/components/hdrepaire.vue"}var v=l(83744);"function"===typeof h&&h(b);const W=(0,v.Z)(b,[["__scopeId","data-v-78424496"]]);var y=W},80299:function(e,a,l){l.r(a),l.d(a,{default:function(){return z}});var t=l(73632),d=(l(3241),l(74965),l(22040)),s=(l(99426),l(16273)),i=l(10475),o=(l(29290),l(27977)),n=(l(40355),l(15659)),m=(l(10444),l(96872),l(66252));const r={class:"sd-creater-container"},u={class:"image-form"},c={class:"list-item"},_={class:"list-item-meta"},p={class:"list-item-meta-content-left"};function f(e,a,l,f,g,w){const S=o.p8,U=(0,m.up)("vab-icon"),b=n.ElButton,h=o.Ub,v=(0,m.up)("txt2imgFrom"),W=(0,m.up)("hdrepaireFrom"),y=(0,m.up)("ADtailerFrom"),x=i.Mr,V=s.Z,k=d.Dv,D=(0,m.up)("Taskqueue"),z=t.dq;return(0,m.wg)(),(0,m.iD)("div",r,[(0,m.Wm)(z,{gutter:20,class:"sd-row"},{default:(0,m.w5)((()=>[(0,m.Wm)(k,{xs:24,sm:12,md:8,lg:8,xl:8,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(V,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m._)("div",u,[(0,m._)("ul",null,[(0,m._)("li",c,[(0,m._)("div",_,[(0,m._)("div",p,[(0,m.Wm)(h,{modelValue:e.formType,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formType=a)},{default:(0,m.w5)((()=>[(0,m.Wm)(S,{label:"文/图生图",name:"basic"}),(0,m.Wm)(S,{label:"高清修复",name:"hdrepaire"}),(0,m.Wm)(S,{label:"ADetailer",name:"adetailer"}),(0,m.Wm)(S,{ame:"forth",disabled:!0},{label:(0,m.w5)((()=>[(0,m.Wm)(b,{type:"success",loading:e.loading,onClick:e.handleSubmit},{default:(0,m.w5)((()=>[(0,m.Wm)(U,{icon:"bubble-chart-line"}),(0,m.Uk)(" 戳我生图 ")])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["modelValue"])])])])]),(0,m.Wm)(x,{class:"scrollbar",always:""},{default:(0,m.w5)((()=>["basic"===e.formType?((0,m.wg)(),(0,m.j4)(v,{key:0})):(0,m.kq)("",!0),"hdrepaire"===e.formType?((0,m.wg)(),(0,m.j4)(W,{key:1})):(0,m.kq)("",!0),"adetailer"===e.formType?((0,m.wg)(),(0,m.j4)(y,{key:2})):(0,m.kq)("",!0)])),_:1})])])),_:1})])),_:1}),(0,m.Wm)(k,{xs:24,sm:12,md:16,lg:16,xl:16,class:"sd-col"},{default:(0,m.w5)((()=>[(0,m.Wm)(V,{shadow:"hover",class:"sd-card"},{default:(0,m.w5)((()=>[(0,m.Wm)(D)])),_:1})])),_:1})])),_:1})])}var g=l(67584),w=l(58545),S=l(41090),U=l(26641),b=l(91222),h=l(40645),v=l(2262),W=l(47720),y=l(22201),x=(0,m.aZ)({name:"SdCreaterCenter",components:{txt2imgFrom:g["default"],hdrepaireFrom:w["default"],ADtailerFrom:S["default"],Taskqueue:U["default"]},setup(){const e=(0,m.f3)("$baseMessage"),a=(0,h.s)(),l=(0,b.m)(),{formType:t}=(0,W.Jk)(l),{createImage:d,setFormData:s,getImageDetailResetParams:i}=l,o=(0,y.yj)();async function n(){i(o.query.image_id,o.query.topic_id)}(0,m.bv)((()=>{l.load(),o.query.topic_id&&n()}));const r=(0,v.qj)({activeName:"first",loading:!1});async function u(){r.loading=!0;const l=await d();l.body.missinId;e(l.msg,"success","vab-hey-message-success"),a.loadData(),r.loading=!1}return{...(0,v.BK)(r),formType:t,handleSubmit:u}}});function V(e){e.__source="src/views/stablediffusion/create.vue"}var k=l(83744);"function"===typeof V&&V(x);const D=(0,k.Z)(x,[["render",f],["__scopeId","data-v-6595dca5"]]);var z=D}}]);